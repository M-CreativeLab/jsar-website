# 空间

本章节将介绍什么是空间以及与空间相关的基础概念。

## 空间

在增强现实（AR）的上下文中，**空间**是指现实世界中的某一区域，可以是一个平面表面，也可以是一个三维物体。用户通过与空间的交互获取其信息，例如尺寸、位置、旋转等。在扩展现实（XR）开发中，通常使用场景来表示并封装一个或多个空间。

![空间示例](intro-subspace-in-deskstop.png)

例如，_YodaOS-Master_ 系统桌面（如上图所示）就是一个空间。用户可以在空间中看到一系列虚拟屏幕（表面），同时也可能存在独立的对象。这些表面和对象共同构成了桌面空间，而每个屏幕或对象也可以视为子空间。

> **YodaOS-Master** 是由 [Rokid][] 开发的 XR 操作系统，基于 [Android 开源项目 (AOSP)](https://source.android.com/) 构建，专为 AR 眼镜设计。

[Rokid]: https://global.rokid.com/

## 自由度（DoF）

在增强现实和虚拟现实领域，**自由度（Degrees of Freedom, DoF）** 通常用来描述空间的真实感。自由度越高（最高为 6），空间的真实感越强。

一般来说，物体在空间中的运动可由**位置**和**旋转**来描述。位置包括沿 X、Y、Z 轴的偏移，旋转则包括绕这些轴的旋转角度（俯仰、偏航和滚转）。因此，当物体在空间中移动时，其位置和方向都会发生变化。用来描述这些变化的参数数量称为**自由度（DoF）**。

### 0 DoF

**0 自由度（0 DoF）** 是指观察者的视点固定，无法移动或改变视角的空间。

> **观察者** 指观看空间的人或设备。但在 XR 开发的背景下，观察者通常是用户本人。

![0 自由度空间](space-0dof.gif)

### 3 DoF

**3 自由度（3 DoF）** 是指观察者具有三个自由度，通常与空间的方向相关。

在虚拟空间中，如果摄像机或观察者只改变方向而保持位置固定，该空间被称为具有 3 自由度。这意味着虚拟空间中的物体可以程序化地移动，但观察者的位置固定，只能从不同方向观察虚拟空间。

![3 自由度空间](space-3dof.gif)

### 6 DoF

**6 自由度（6 DoF）** 是指观察者具有六个自由度，包括位置和方向。

在虚拟空间中，如果摄像机或观察者可以同时改变位置和方向，该空间被称为具有 6 自由度。观察者可以自由移动和旋转，使空间具有较高的真实感。

![6 自由度空间](space-6dof.gif)

## 可嵌入空间

那么，什么是可嵌入空间（也称为子空间）？

**可嵌入空间**或**子空间**是一个完整的空间，包含对象，可以作为组件嵌入到另一个空间中。这使我们能够：

- 从父空间中移动、旋转和缩放嵌入空间。
- 直接与嵌入空间的对象交互。
- 将多个嵌入空间组合到父空间中，创建更复杂的空间体验。

嵌入空间的关键技术挑战是如何将一个空间嵌入到另一个空间（宿主空间）中，而不干扰宿主空间或其他嵌入空间，这被称为**空间安全性**。在宿主空间中，它类似于：

1. 不同网页运行在同一浏览器中而互不干扰，体现了浏览器安全性。
2. 多个窗口在同一屏幕中操作，而每个窗口互不影响，体现了窗口系统的安全性。

嵌入空间是 JSAR 中最重要的基本概念之一，因为 JSAR 的主要目标之一是在嵌入空间中打开网页和 WebXR 应用，使用户能够在 3D 环境中与它们交互。通过这一能力，用户可以在单个 XR 空间中同时查看和交互多个 Web 内容。

## 下一步

在下一章节中，您将学习 XR 开发中的 [输入源](./basic-concepts/input-sources)。
